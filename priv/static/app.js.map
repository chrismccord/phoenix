{"version":3,"sources":["web/static/js/app.js","web/static/js/phoenix.js"],"names":[],"mappings":"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","file":"priv/static/app.js","sourcesContent":["import {Socket} from \"./phoenix\"\n\n// let socket = new Socket(\"/ws\")\n// socket.join(\"topic:subtopic\", {}, chan => {\n// })\n\nconsole.log(\"Welcome to phoenix!\")\n","\"use strict\";\n\nvar _prototypeProperties = function (child, staticProps, instanceProps) { if (staticProps) Object.defineProperties(child, staticProps); if (instanceProps) Object.defineProperties(child.prototype, instanceProps); };\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\nvar SOCKET_STATES = { connecting: 0, open: 1, closing: 2, closed: 3 };\n\nvar Channel = exports.Channel = (function () {\n  function Channel(topic, message, callback, socket) {\n    _classCallCheck(this, Channel);\n\n    this.topic = topic;\n    this.message = message;\n    this.callback = callback;\n    this.socket = socket;\n    this.bindings = null;\n\n    this.reset();\n  }\n\n  _prototypeProperties(Channel, null, {\n    reset: {\n      value: function reset() {\n        this.bindings = [];\n      },\n      writable: true,\n      configurable: true\n    },\n    on: {\n      value: function on(event, callback) {\n        this.bindings.push({ event: event, callback: callback });\n      },\n      writable: true,\n      configurable: true\n    },\n    isMember: {\n      value: function isMember(topic) {\n        return this.topic === topic;\n      },\n      writable: true,\n      configurable: true\n    },\n    off: {\n      value: function off(event) {\n        this.bindings = this.bindings.filter(function (bind) {\n          return bind.event !== event;\n        });\n      },\n      writable: true,\n      configurable: true\n    },\n    trigger: {\n      value: function trigger(triggerEvent, msg) {\n        this.bindings.filter(function (bind) {\n          return bind.event === triggerEvent;\n        }).map(function (bind) {\n          return bind.callback(msg);\n        });\n      },\n      writable: true,\n      configurable: true\n    },\n    send: {\n      value: function send(event, payload) {\n        this.socket.send({ topic: this.topic, event: event, payload: payload });\n      },\n      writable: true,\n      configurable: true\n    },\n    leave: {\n      value: function leave() {\n        var message = arguments[0] === undefined ? {} : arguments[0];\n        this.socket.leave(this.topic, message);\n        this.reset();\n      },\n      writable: true,\n      configurable: true\n    }\n  });\n\n  return Channel;\n})();\nvar Socket = exports.Socket = (function () {\n  // Initializes the Socket\n  //\n  // endPoint - The string WebSocket endpoint, ie, \"ws://example.com/ws\",\n  //                                               \"wss://example.com\"\n  //                                               \"/ws\" (inherited host & protocol)\n  // opts - Optional configuration\n  //   transport - The Websocket Transport, ie WebSocket, Phoenix.LongPoller.\n  //               Defaults to WebSocket with automatic LongPoller fallback.\n  //   heartbeatIntervalMs - The millisecond interval to send a heartbeat message\n  //   logger - The optional function for specialized logging, ie:\n  //            `logger: (msg) -> console.log(msg)`\n  //\n  function Socket(endPoint) {\n    var opts = arguments[1] === undefined ? {} : arguments[1];\n    _classCallCheck(this, Socket);\n\n    this.states = SOCKET_STATES;\n    this.stateChangeCallbacks = { open: [], close: [], error: [], message: [] };\n    this.flushEveryMs = 50;\n    this.reconnectTimer = null;\n    this.reconnectAfterMs = 5000;\n    this.heartbeatIntervalMs = 30000;\n    this.channels = [];\n    this.sendBuffer = [];\n\n    this.transport = opts.transport || WebSocket || LongPoller;\n    this.heartbeatIntervalMs = opts.heartbeatIntervalMs || this.heartbeatIntervalMs;\n    this.logger = opts.logger || function () {}; // noop\n    this.endPoint = this.expandEndpoint(endPoint);\n    this.resetBufferTimer();\n    this.reconnect();\n  }\n\n  _prototypeProperties(Socket, null, {\n    protocol: {\n      value: function protocol() {\n        return location.protocol.match(/^https/) ? \"wss\" : \"ws\";\n      },\n      writable: true,\n      configurable: true\n    },\n    expandEndpoint: {\n      value: function expandEndpoint(endPoint) {\n        if (endPoint.charAt(0) !== \"/\") {\n          return endPoint;\n        }\n        if (endPoint.charAt(1) === \"/\") {\n          return \"\" + this.protocol() + \":\" + endPoint;\n        }\n\n        return \"\" + this.protocol() + \"://\" + location.host + \"\" + endPoint;\n      },\n      writable: true,\n      configurable: true\n    },\n    close: {\n      value: function close(callback, code, reason) {\n        if (this.conn) {\n          this.conn.onclose = function () {}; // noop\n          if (code) {\n            this.conn.close(code, reason || \"\");\n          } else {\n            this.conn.close();\n          }\n          this.conn = null;\n        }\n        callback && callback();\n      },\n      writable: true,\n      configurable: true\n    },\n    reconnect: {\n      value: function reconnect() {\n        var _this = this;\n        this.close(function () {\n          _this.conn = new _this.transport(_this.endPoint);\n          _this.conn.onopen = function () {\n            return _this.onConnOpen();\n          };\n          _this.conn.onerror = function (error) {\n            return _this.onConnError(error);\n          };\n          _this.conn.onmessage = function (event) {\n            return _this.onConnMessage(event);\n          };\n          _this.conn.onclose = function (event) {\n            return _this.onConnClose(event);\n          };\n        });\n      },\n      writable: true,\n      configurable: true\n    },\n    resetBufferTimer: {\n      value: function resetBufferTimer() {\n        var _this = this;\n        clearTimeout(this.sendBufferTimer);\n        this.sendBufferTimer = setTimeout(function () {\n          return _this.flushSendBuffer();\n        }, this.flushEveryMs);\n      },\n      writable: true,\n      configurable: true\n    },\n    log: {\n\n      // Logs the message. Override `this.logger` for specialized logging. noops by default\n      value: function log(msg) {\n        this.logger(msg);\n      },\n      writable: true,\n      configurable: true\n    },\n    onOpen: {\n\n      // Registers callbacks for connection state change events\n      //\n      // Examples\n      //\n      //    socket.onError (error) -> alert(\"An error occurred\")\n      //\n      value: function onOpen(callback) {\n        this.stateChangeCallbacks.open.push(callback);\n      },\n      writable: true,\n      configurable: true\n    },\n    onClose: {\n      value: function onClose(callback) {\n        this.stateChangeCallbacks.close.push(callback);\n      },\n      writable: true,\n      configurable: true\n    },\n    onError: {\n      value: function onError(callback) {\n        this.stateChangeCallbacks.error.push(callback);\n      },\n      writable: true,\n      configurable: true\n    },\n    onMessage: {\n      value: function onMessage(callback) {\n        this.stateChangeCallbacks.message.push(callback);\n      },\n      writable: true,\n      configurable: true\n    },\n    onConnOpen: {\n      value: function onConnOpen() {\n        var _this = this;\n        clearInterval(this.reconnectTimer);\n        if (!this.transport.skipHeartbeat) {\n          this.heartbeatTimer = setInterval(function () {\n            return _this.sendHeartbeat();\n          }, this.heartbeatIntervalMs);\n        }\n        this.rejoinAll();\n        this.stateChangeCallbacks.open.forEach(function (callback) {\n          return callback();\n        });\n      },\n      writable: true,\n      configurable: true\n    },\n    onConnClose: {\n      value: function onConnClose(event) {\n        var _this = this;\n        this.log(\"WS close:\");\n        this.log(event);\n        clearInterval(this.reconnectTimer);\n        clearInterval(this.heartbeatTimer);\n        this.reconnectTimer = setInterval(function () {\n          return _this.reconnect();\n        }, this.reconnectAfterMs);\n        this.stateChangeCallbacks.close.forEach(function (callback) {\n          return callback(event);\n        });\n      },\n      writable: true,\n      configurable: true\n    },\n    onConnError: {\n      value: function onConnError(error) {\n        this.log(\"WS error:\");\n        this.log(error);\n        this.stateChangeCallbacks.error.forEach(function (callback) {\n          return callback(error);\n        });\n      },\n      writable: true,\n      configurable: true\n    },\n    connectionState: {\n      value: function connectionState() {\n        switch (this.conn && this.conn.readyState) {\n          case this.states.connecting:\n            return \"connecting\";\n          case this.states.open:\n            return \"open\";\n          case this.states.closing:\n            return \"closing\";\n          default:\n            return \"closed\";\n        }\n      },\n      writable: true,\n      configurable: true\n    },\n    isConnected: {\n      value: function isConnected() {\n        return this.connectionState() === \"open\";\n      },\n      writable: true,\n      configurable: true\n    },\n    rejoinAll: {\n      value: function rejoinAll() {\n        var _this = this;\n        this.channels.forEach(function (chan) {\n          return _this.rejoin(chan);\n        });\n      },\n      writable: true,\n      configurable: true\n    },\n    rejoin: {\n      value: function rejoin(chan) {\n        chan.reset();\n        this.send({ topic: chan.topic, event: \"join\", payload: chan.message });\n        chan.callback(chan);\n      },\n      writable: true,\n      configurable: true\n    },\n    join: {\n      value: function join(topic, message, callback) {\n        var chan = new Channel(topic, message, callback, this);\n        this.channels.push(chan);\n        if (this.isConnected()) {\n          this.rejoin(chan);\n        }\n      },\n      writable: true,\n      configurable: true\n    },\n    leave: {\n      value: function leave(topic) {\n        var message = arguments[1] === undefined ? {} : arguments[1];\n        this.send({ topic: topic, event: \"leave\", payload: message });\n        this.channels = this.channels.filter(function (c) {\n          return !c.isMember(topic);\n        });\n      },\n      writable: true,\n      configurable: true\n    },\n    send: {\n      value: function send(data) {\n        var _this = this;\n        var callback = function () {\n          return _this.conn.send(JSON.stringify(data));\n        };\n        if (this.isConnected()) {\n          callback();\n        } else {\n          this.sendBuffer.push(callback);\n        }\n      },\n      writable: true,\n      configurable: true\n    },\n    sendHeartbeat: {\n      value: function sendHeartbeat() {\n        this.send({ topic: \"phoenix\", event: \"heartbeat\", payload: {} });\n      },\n      writable: true,\n      configurable: true\n    },\n    flushSendBuffer: {\n      value: function flushSendBuffer() {\n        if (this.isConnected() && this.sendBuffer.length > 0) {\n          this.sendBuffer.forEach(function (callback) {\n            return callback();\n          });\n          this.sendBuffer = [];\n        }\n        this.resetBufferTimer();\n      },\n      writable: true,\n      configurable: true\n    },\n    onConnMessage: {\n      value: function onConnMessage(rawMessage) {\n        this.log(\"message received:\");\n        this.log(rawMessage);\n        var _JSON$parse = JSON.parse(rawMessage.data);\n\n        var topic = _JSON$parse.topic;\n        var event = _JSON$parse.event;\n        var payload = _JSON$parse.payload;\n        this.channels.filter(function (chan) {\n          return chan.isMember(topic);\n        }).forEach(function (chan) {\n          return chan.trigger(event, payload);\n        });\n        this.stateChangeCallbacks.message.forEach(function (callback) {\n          callback(topic, event, payload);\n        });\n      },\n      writable: true,\n      configurable: true\n    }\n  });\n\n  return Socket;\n})();\nvar LongPoller = exports.LongPoller = (function () {\n  function LongPoller(endPoint) {\n    _classCallCheck(this, LongPoller);\n\n    this.retryInMs = 5000;\n    this.endPoint = null;\n    this.token = null;\n    this.sig = null;\n    this.skipHeartbeat = true;\n    this.onopen = function () {}; // noop\n    this.onerror = function () {}; // noop\n    this.onmessage = function () {}; // noop\n    this.onclose = function () {}; // noop\n    this.states = SOCKET_STATES;\n    this.upgradeEndpoint = this.normalizeEndpoint(endPoint);\n    this.pollEndpoint = this.upgradeEndpoint + (/\\/$/.test(endPoint) ? \"poll\" : \"/poll\");\n    this.readyState = this.states.connecting;\n\n    this.poll();\n  }\n\n  _prototypeProperties(LongPoller, null, {\n    normalizeEndpoint: {\n      value: function normalizeEndpoint(endPoint) {\n        return endPoint.replace(\"ws://\", \"http://\").replace(\"wss://\", \"https://\");\n      },\n      writable: true,\n      configurable: true\n    },\n    endpointURL: {\n      value: function endpointURL() {\n        return this.pollEndpoint + (\"?token=\" + encodeURIComponent(this.token) + \"&sig=\" + encodeURIComponent(this.sig));\n      },\n      writable: true,\n      configurable: true\n    },\n    closeAndRetry: {\n      value: function closeAndRetry() {\n        this.close();\n        this.readyState = this.states.connecting;\n      },\n      writable: true,\n      configurable: true\n    },\n    ontimeout: {\n      value: function ontimeout() {\n        this.onerror(\"timeout\");\n        this.closeAndRetry();\n      },\n      writable: true,\n      configurable: true\n    },\n    poll: {\n      value: function poll() {\n        var _this = this;\n        if (!(this.readyState === this.states.open || this.readyState === this.states.connecting)) {\n          return;\n        }\n\n        Ajax.request(\"GET\", this.endpointURL(), \"application/json\", null, this.ontimeout.bind(this), function (status, resp) {\n          if (resp && resp !== \"\") {\n            var _JSON$parse = JSON.parse(resp);\n\n            var token = _JSON$parse.token;\n            var sig = _JSON$parse.sig;\n            var messages = _JSON$parse.messages;\n            _this.token = token;\n            _this.sig = sig;\n          }\n          switch (status) {\n            case 200:\n              messages.forEach(function (msg) {\n                return _this.onmessage({ data: JSON.stringify(msg) });\n              });\n              _this.poll();\n              break;\n            case 204:\n              _this.poll();\n              break;\n            case 410:\n              _this.readyState = _this.states.open;\n              _this.onopen();\n              _this.poll();\n              break;\n            case 0:\n            case 500:\n              _this.onerror();\n              _this.closeAndRetry();\n              break;\n            default:\n              throw \"unhandled poll status \" + status;\n          }\n        });\n      },\n      writable: true,\n      configurable: true\n    },\n    send: {\n      value: function send(body) {\n        var _this = this;\n        Ajax.request(\"POST\", this.endpointURL(), \"application/json\", body, this.onerror.bind(this, \"timeout\"), function (status, resp) {\n          if (status !== 200) {\n            _this.onerror(status);\n          }\n        });\n      },\n      writable: true,\n      configurable: true\n    },\n    close: {\n      value: function close(code, reason) {\n        this.readyState = this.states.closed;\n        this.onclose();\n      },\n      writable: true,\n      configurable: true\n    }\n  });\n\n  return LongPoller;\n})();\nvar Ajax = exports.Ajax = {\n\n  states: { complete: 4 },\n\n  request: function (method, endPoint, accept, body, ontimeout, callback) {\n    var _this = this;\n    var req = XMLHttpRequest ? new XMLHttpRequest() : // IE7+, Firefox, Chrome, Opera, Safari\n    new ActiveXObject(\"Microsoft.XMLHTTP\"); // IE6, IE5\n    req.open(method, endPoint, true);\n    req.setRequestHeader(\"Content-type\", accept);\n    req.onerror = function () {\n      callback && callback(500, null);\n    };\n    req.onreadystatechange = function () {\n      if (req.readyState === _this.states.complete && callback) {\n        callback(req.status, req.responseText);\n      }\n    };\n    if (ontimeout) {\n      req.ontimeout = ontimeout;\n    }\n\n    req.send(body);\n  }\n};\n\n// export for browser hack\nif (typeof window === \"object\") {\n  window.Phoenix = exports;\n}\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n"]}
